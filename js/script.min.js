var feedbackButton=document.querySelector(".feedback-button"),feedbackPopup=document.querySelector(".feedback-popup"),closeFeedbackPopupButton=document.querySelector(".feedback-popup .close-popup-button"),feedbackName=document.querySelector(".feedback-popup [name=username]"),feedbackEmail=document.querySelector(".feedback-popup [name=email]"),feedbackText=document.querySelector(".feedback-popup [name=text]"),sendFeedbackButton=document.querySelector(".feedback-popup button[type=submit]"),mapButton=document.querySelector(".map-link"),mapPopup=document.querySelector(".map-popup"),closeMapPopupButton=document.querySelector(".map-popup .close-popup-button"),addButton=document.querySelectorAll(".catalog-item .buy-link"),addPopup=document.querySelector(".item-add-popup"),closeAddPopupButton=document.querySelector(".item-add-popup .close-popup-button"),orderPopupButton=document.querySelector(".item-add-popup .button-order"),continuePopupButton=document.querySelector(".item-add-popup .button-continue"),bannerButtons=document.querySelectorAll(".banner-button"),bannerDots=document.querySelectorAll(".banner-toggle-dot"),bannerSlides=document.querySelectorAll(".banner-slide"),sliderButtons=document.querySelectorAll(".toggle-labels input"),sliderSlides=document.querySelectorAll(".slide-container .content-slide"),isStorageSupport=!0;if(feedbackButton&&feedbackButton.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("show-popup"),feedbackName.focus();try{feedbackName.value=localStorage.getItem("feedbackName")}catch(e){isStorageSupport=!1}isStorageSupport&&(feedbackEmail.value=localStorage.getItem("feedbackEmail")),feedbackText.value=""}),closeFeedbackPopupButton&&closeFeedbackPopupButton.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("show-popup")}),sendFeedbackButton&&sendFeedbackButton.addEventListener("click",function(e){e.preventDefault(),feedbackName.value&&feedbackEmail.value&&feedbackText.value?(isStorageSupport&&(localStorage.setItem("feedbackName",feedbackName.value),localStorage.setItem("feedbackEmail",feedbackEmail.value)),feedbackPopup.classList.remove("show-popup")):console.log("Ошибка!")}),mapButton&&mapButton.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("show-popup")}),closeMapPopupButton&&closeMapPopupButton.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("show-popup")}),addButton[0]&&addPopup)for(var i=0;i<addButton.length;i++)addButton[i].addEventListener("click",function(e){e.preventDefault(),addPopup.classList.add("show-popup"),orderPopupButton.focus()});if(closeAddPopupButton&&closeAddPopupButton.addEventListener("click",function(e){e.preventDefault(),addPopup.classList.remove("show-popup")}),continuePopupButton&&continuePopupButton.addEventListener("click",function(e){e.preventDefault(),addPopup.classList.remove("show-popup")}),document.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapPopup&&mapPopup.classList.contains("show-popup")?mapPopup.classList.remove("show-popup"):feedbackPopup&&feedbackPopup.classList.contains("show-popup")?feedbackPopup.classList.remove("show-popup"):addPopup&&addPopup.classList.contains("show-popup")&&addPopup.classList.remove("show-popup"))}),bannerButtons[0]&&bannerSlides[0]&&bannerDots[0]){var bannerButtonBackward=bannerButtons[0],bannerButtonForward=bannerButtons[1],currentSlideIndex=0,newSlideIndex=0;bannerButtonBackward.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<bannerSlides.length;t++)bannerSlides[t].classList.contains("visually-hidden")||(currentSlideIndex=t);bannerSlides[currentSlideIndex].classList.add("visually-hidden"),newSlideIndex=0===currentSlideIndex?bannerSlides.length-1:currentSlideIndex-1,bannerSlides[newSlideIndex].classList.remove("visually-hidden"),bannerDots[newSlideIndex].checked=!0}),bannerButtonForward.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<bannerSlides.length;t++)bannerSlides[t].classList.contains("visually-hidden")||(currentSlideIndex=t);bannerSlides[currentSlideIndex].classList.add("visually-hidden"),newSlideIndex=currentSlideIndex===bannerSlides.length-1?0:currentSlideIndex+1,bannerSlides[newSlideIndex].classList.remove("visually-hidden"),bannerDots[newSlideIndex].checked=!0})}if(bannerDots[0]&&bannerSlides[0]){var addDotClickHandler=function(n){bannerDots[n].addEventListener("click",function(){for(var e=0,t=0;t<bannerSlides.length;t++)bannerSlides[t].classList.contains("visually-hidden")||(e=t);n!=e&&(bannerSlides[n].classList.remove("visually-hidden"),bannerSlides[e].classList.add("visually-hidden"))})};for(i=0;i<bannerDots.length;i++)addDotClickHandler(i)}if(sliderButtons[0]&&sliderSlides[0]){var addSliderButtonClickHandler=function(n){sliderButtons[n].addEventListener("click",function(){for(var e=0,t=0;t<sliderSlides.length;t++)sliderSlides[t].classList.contains("visually-hidden")||(e=t);n!=e&&(sliderSlides[n].classList.remove("visually-hidden"),sliderSlides[e].classList.add("visually-hidden"))})};for(i=0;i<sliderButtons.length;i++)addSliderButtonClickHandler(i)}
