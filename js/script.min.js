var feedbackButton=document.querySelector(".feedback-button"),feedbackPopup=document.querySelector(".feedback-popup"),closeFeedbackPopupButton=document.querySelector(".feedback-popup .close-popup-button"),feedbackInputs=document.querySelectorAll(".feedback-popup .feedback-input"),sendFeedbackButton=document.querySelector(".feedback-popup button[type=submit]"),mapButton=document.querySelector(".map-link"),mapPopup=document.querySelector(".map-popup"),closeMapPopupButton=document.querySelector(".map-popup .close-popup-button"),addButton=document.querySelectorAll(".catalog-item .buy-link"),addPopup=document.querySelector(".item-add-popup"),closeAddPopupButton=document.querySelector(".item-add-popup .close-popup-button"),orderPopupButton=document.querySelector(".item-add-popup .button-order"),continuePopupButton=document.querySelector(".item-add-popup .button-continue"),bannerButtons=document.querySelectorAll(".banner-button"),bannerDots=document.querySelectorAll(".banner-toggle-dot"),bannerSlides=document.querySelectorAll(".banner-slide"),sliderButtons=document.querySelectorAll(".toggle-labels input"),sliderSlides=document.querySelectorAll(".slide-container .content-slide"),isStorageSupport=!0;if(feedbackButton&&feedbackButton.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("show-popup"),feedbackInputs[0].focus();try{feedbackInputs[0].value=localStorage.getItem("feedbackName")}catch(e){isStorageSupport=!1}isStorageSupport&&(feedbackInputs[1].value=localStorage.getItem("feedbackEmail")),feedbackInputs[2].value=""}),closeFeedbackPopupButton&&closeFeedbackPopupButton.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("show-popup");for(var t=0;t<feedbackInputs.length;t++)feedbackInputs[t].classList.remove("incorrect-input")}),sendFeedbackButton&&sendFeedbackButton.addEventListener("click",function(e){for(var t=!1,n=0;n<feedbackInputs.length;n++)feedbackInputs[n].value||(feedbackInputs[n].classList.remove("incorrect-input"),feedbackInputs[n].offsetWidth=feedbackInputs[n].offsetWidth,feedbackInputs[n].classList.add("incorrect-input"),t=!0);if(t)e.preventDefault();else{isStorageSupport&&(localStorage.setItem("feedbackName",feedbackInputs[0].value),localStorage.setItem("feedbackEmail",feedbackInputs[1].value)),feedbackPopup.classList.remove("show-popup");for(n=0;n<feedbackInputs.length;n++)feedbackInputs[n].classList.remove("incorrect-input")}}),feedbackInputs[0])for(var addFeedbackInputHandler=function(e){feedbackInputs[e].addEventListener("input",function(){feedbackInputs[e].classList.remove("incorrect-input")})},i=0;i<feedbackInputs.length;i++)addFeedbackInputHandler(i);if(mapButton&&mapButton.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("show-popup")}),closeMapPopupButton&&closeMapPopupButton.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("show-popup")}),addButton[0]&&addPopup)for(i=0;i<addButton.length;i++)addButton[i].addEventListener("click",function(e){e.preventDefault(),addPopup.classList.add("show-popup"),orderPopupButton.focus()});if(closeAddPopupButton&&closeAddPopupButton.addEventListener("click",function(e){e.preventDefault(),addPopup.classList.remove("show-popup")}),continuePopupButton&&continuePopupButton.addEventListener("click",function(e){e.preventDefault(),addPopup.classList.remove("show-popup")}),document.addEventListener("keydown",function(e){if(27===e.keyCode)if(e.preventDefault(),mapPopup&&mapPopup.classList.contains("show-popup"))mapPopup.classList.remove("show-popup");else if(feedbackPopup&&feedbackPopup.classList.contains("show-popup")){feedbackPopup.classList.remove("show-popup");for(var t=0;t<feedbackInputs.length;t++)feedbackInputs[t].classList.remove("incorrect-input")}else addPopup&&addPopup.classList.contains("show-popup")&&addPopup.classList.remove("show-popup")}),bannerButtons[0]&&bannerSlides[0]&&bannerDots[0]){var bannerButtonBackward=bannerButtons[0],bannerButtonForward=bannerButtons[1],currentSlideIndex=0,newSlideIndex=0;bannerButtonBackward.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<bannerSlides.length;t++)bannerSlides[t].classList.contains("visually-hidden")||(currentSlideIndex=t);bannerSlides[currentSlideIndex].classList.add("visually-hidden"),newSlideIndex=0===currentSlideIndex?bannerSlides.length-1:currentSlideIndex-1,bannerSlides[newSlideIndex].classList.remove("visually-hidden"),bannerDots[newSlideIndex].checked=!0}),bannerButtonForward.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<bannerSlides.length;t++)bannerSlides[t].classList.contains("visually-hidden")||(currentSlideIndex=t);bannerSlides[currentSlideIndex].classList.add("visually-hidden"),newSlideIndex=currentSlideIndex===bannerSlides.length-1?0:currentSlideIndex+1,bannerSlides[newSlideIndex].classList.remove("visually-hidden"),bannerDots[newSlideIndex].checked=!0})}if(bannerDots[0]&&bannerSlides[0]){var addDotClickHandler=function(n){bannerDots[n].addEventListener("click",function(){for(var e=0,t=0;t<bannerSlides.length;t++)bannerSlides[t].classList.contains("visually-hidden")||(e=t);n!=e&&(bannerSlides[n].classList.remove("visually-hidden"),bannerSlides[e].classList.add("visually-hidden"))})};for(i=0;i<bannerDots.length;i++)addDotClickHandler(i)}if(sliderButtons[0]&&sliderSlides[0]){var addSliderButtonClickHandler=function(n){sliderButtons[n].addEventListener("click",function(){for(var e=0,t=0;t<sliderSlides.length;t++)sliderSlides[t].classList.contains("visually-hidden")||(e=t);n!=e&&(sliderSlides[n].classList.remove("visually-hidden"),sliderSlides[e].classList.add("visually-hidden"))})};for(i=0;i<sliderButtons.length;i++)addSliderButtonClickHandler(i)}
